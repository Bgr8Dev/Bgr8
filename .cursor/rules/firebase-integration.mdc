# Firebase Integration Standards

## Authentication Patterns

### Authentication Hooks
- Use the existing `useAuth` hook for authentication state
- Follow the existing auth patterns in `AuthContext.tsx`
- Use proper error handling for auth operations
- Implement proper security measures (rate limiting, validation)

### Authentication Security
- Use the existing rate limiting and brute force protection
- Implement proper session management
- Follow the existing security patterns for user data
- Use proper authentication state management

### User Management
- Follow the existing user profile patterns
- Implement proper user data validation
- Use the existing user role management system
- Handle authentication state changes properly

## Firestore Integration

### Data Structure
- Use the existing Firebase configuration
- Follow the existing data structure patterns
- Use proper TypeScript types for Firestore documents
- Implement proper error handling and loading states

### Data Operations
- Use proper Firestore security rules
- Implement proper data validation
- Use batch operations for multiple writes
- Handle offline scenarios appropriately

### Real-time Updates
- Use proper Firestore listeners
- Implement proper cleanup for listeners
- Handle connection state changes
- Use proper error handling for real-time updates

## Firebase Security

### Security Rules
- Follow the existing Firestore security patterns
- Implement proper access control
- Use proper data validation rules
- Maintain security rule consistency

### Authentication Security
- Use proper authentication state management
- Implement proper session handling
- Use existing security utilities
- Follow the established security patterns

## Error Handling

### Firebase Error Handling
- Use proper error handling for Firebase operations
- Implement proper error recovery mechanisms
- Use the existing error handling patterns
- Provide meaningful error messages to users

### Network Error Handling
- Handle network connectivity issues
- Implement proper retry mechanisms
- Use proper offline handling
- Provide appropriate user feedback

## Performance Optimization

### Firestore Performance
- Use proper query optimization
- Implement proper pagination
- Use appropriate indexes
- Optimize data fetching patterns

### Caching Strategies
- Implement proper data caching
- Use appropriate cache invalidation
- Handle cache consistency
- Optimize for performance

## Development and Testing

### Firebase Emulator
- Use the Firebase emulator for local development
- Test with the emulator configuration
- Use proper emulator setup
- Test offline scenarios

### Testing Firebase Integration
- Test Firebase integration properly
- Use the Firebase emulator for testing
- Test authentication flows thoroughly
- Implement proper test isolation

## Configuration Management

### Environment Configuration
- Use proper environment variable management
- Configure Firebase for different environments
- Use proper configuration patterns
- Maintain configuration consistency

### Firebase Project Setup
- Follow the existing Firebase project structure
- Use proper project configuration
- Implement proper environment separation
- Maintain configuration security

## Data Migration and Management

### Data Migration
- Use proper data migration strategies
- Implement safe data transformation
- Use proper backup strategies
- Handle data consistency during migration

### Data Cleanup
- Implement proper data cleanup procedures
- Use proper data retention policies
- Handle data archiving appropriately
- Maintain data integrity

## Monitoring and Analytics

### Firebase Analytics
- Use proper analytics implementation
- Implement proper event tracking
- Use proper user analytics
- Maintain privacy compliance

### Performance Monitoring
- Use Firebase performance monitoring
- Implement proper error tracking
- Monitor Firebase usage
- Use proper alerting mechanisms

## Forbidden Firebase Practices

- DO NOT bypass existing security measures
- DO NOT ignore Firebase security rules
- DO NOT use deprecated Firebase APIs
- DO NOT bypass authentication requirements
- DO NOT ignore proper error handling patterns
